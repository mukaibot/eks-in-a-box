#!/usr/bin/ruby
$LOAD_PATH << 'lib'
require 'net/http'
require 'json'
require 'fileutils'
require 'open-uri'
require 'yaml'

require 'client_binary_installer'
require 'eks_configuration_writer'
require 'eks_creator'
require 'prerequisite_checker'
require 'vpc_creator'


PLATFORM = `uname`.chomp.downcase

PrerequisiteChecker.new.check!
ClientBinaryInstaller.new(PLATFORM).call
vpc_creator = VpcCreator.new
vpc_creator.call
vpc_id = vpc_creator.vpc_id
cluster_name = vpc_creator.cluster_name
role_arn = vpc_creator.role_arn
eks_config = EksConfigurationWriter.new(vpc_id, cluster_name, role_arn).call
# EksCreator.call
